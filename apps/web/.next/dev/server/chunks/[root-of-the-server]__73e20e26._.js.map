{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/PC/Desktop/Our_Stocks_Project/apps/web/src/app/api/auth/users/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport { drizzle } from 'drizzle-orm/neon-http';\nimport { neon } from '@neondatabase/serverless';\nimport { pgTable, serial, text, varchar, timestamp } from 'drizzle-orm/pg-core';\nimport { desc } from 'drizzle-orm';\n\n// Schema EXACT bas√© sur Neon\nconst users = pgTable('users', {\n  id: serial('id').primaryKey(),\n  name: text('name').notNull(),\n  email: text('email').notNull(),\n  password_hash: text('password_hash').notNull(),\n  avatar_url: text('avatar_url'),\n  role: text('role').default('user'),\n  created_at: timestamp('created_at').defaultNow(),\n  updated_at: timestamp('updated_at').defaultNow(),\n  status: varchar('status', { length: 255 }).default('active'),\n  last_login: timestamp('last_login'),\n});\n\nconst sql = neon(process.env.DATABASE_URL!);\nconst db = drizzle(sql);\n\nexport const dynamic = 'force-dynamic';\n\nexport async function GET() {\n  try {\n    const allUsers = await db\n      .select({\n        id: users.id,\n        name: users.name,\n        email: users.email,\n        role: users.role,\n        status: users.status,\n        last_login: users.last_login,\n        created_at: users.created_at,\n      })\n      .from(users)\n      .orderBy(desc(users.created_at));\n\n    return NextResponse.json({\n      success: true,\n      data: allUsers,\n    });\n  } catch (error: any) {\n    console.error('Error fetching users:', error);\n    return NextResponse.json(\n      { success: false, error: error.message },\n      { status: 500 }\n    );\n  }\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AAEA,6BAA6B;AAC7B,MAAM,QAAQ,IAAA,2QAAO,EAAC,SAAS;IAC7B,IAAI,IAAA,sRAAM,EAAC,MAAM,UAAU;IAC3B,MAAM,IAAA,kRAAI,EAAC,QAAQ,OAAO;IAC1B,OAAO,IAAA,kRAAI,EAAC,SAAS,OAAO;IAC5B,eAAe,IAAA,kRAAI,EAAC,iBAAiB,OAAO;IAC5C,YAAY,IAAA,kRAAI,EAAC;IACjB,MAAM,IAAA,kRAAI,EAAC,QAAQ,OAAO,CAAC;IAC3B,YAAY,IAAA,4RAAS,EAAC,cAAc,UAAU;IAC9C,YAAY,IAAA,4RAAS,EAAC,cAAc,UAAU;IAC9C,QAAQ,IAAA,wRAAO,EAAC,UAAU;QAAE,QAAQ;IAAI,GAAG,OAAO,CAAC;IACnD,YAAY,IAAA,4RAAS,EAAC;AACxB;AAEA,MAAM,MAAM,IAAA,yOAAI,EAAC,QAAQ,GAAG,CAAC,YAAY;AACzC,MAAM,KAAK,IAAA,8QAAO,EAAC;AAEZ,MAAM,UAAU;AAEhB,eAAe;IACpB,IAAI;QACF,MAAM,WAAW,MAAM,GACpB,MAAM,CAAC;YACN,IAAI,MAAM,EAAE;YACZ,MAAM,MAAM,IAAI;YAChB,OAAO,MAAM,KAAK;YAClB,MAAM,MAAM,IAAI;YAChB,QAAQ,MAAM,MAAM;YACpB,YAAY,MAAM,UAAU;YAC5B,YAAY,MAAM,UAAU;QAC9B,GACC,IAAI,CAAC,OACL,OAAO,CAAC,IAAA,iRAAI,EAAC,MAAM,UAAU;QAEhC,OAAO,+QAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,MAAM;QACR;IACF,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,+QAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,OAAO,MAAM,OAAO;QAAC,GACvC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}